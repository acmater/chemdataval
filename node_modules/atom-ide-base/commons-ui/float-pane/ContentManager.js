"use strict"
Object.defineProperty(exports, "__esModule", { value: true })
exports.ContentManager = void 0
const ContentView_1 = require("./ContentView")
class ContentManager {
  constructor() {
    this.renderer = null
  }
  async getContent(datatip, editor) {
    if (datatip.component) {
      return new ContentView_1.ContentView({ component: datatip.component })
    } else if (datatip.markedStrings.length > 0) {
      const grammar = editor.getGrammar().scopeName.toLowerCase()
      const snippetHtml = await this.getSnippetHtml(
        datatip.markedStrings.filter((t) => t.type === "snippet").map((t) => t.value),
        grammar
      )
      const documentationHtml = await this.getDocumentationHtml(
        datatip.markedStrings.filter((t) => t.type === "markdown").map((t) => t.value),
        grammar
      )
      const dataTipView = new ContentView_1.ContentView({
        snippet: snippetHtml,
        html: documentationHtml,
      })
      return dataTipView
    }
  }
}
exports.ContentManager = ContentManager
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudE1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMtY29tbW9ucy11aS9mbG9hdC1wYW5lL0NvbnRlbnRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLCtDQUEyQztBQUUzQyxNQUFhLGNBQWM7SUFBM0I7UUFJRSxhQUFRLEdBQXFCLElBQUksQ0FBQTtJQTRCbkMsQ0FBQztJQXBCQyxLQUFLLENBQUMsVUFBVSxDQUFDLE9BQWdCLEVBQUUsTUFBa0I7UUFDbkQsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQ3JCLE9BQU8sSUFBSSx5QkFBVyxDQUFDLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFBO1NBQ3pEO2FBQU0sSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDM0MsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUMzRCxNQUFNLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQyxjQUFjLENBQzNDLE9BQU8sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUM3RSxPQUFPLENBQ1IsQ0FBQTtZQUNELE1BQU0saUJBQWlCLEdBQUcsTUFBTSxJQUFJLENBQUMsb0JBQW9CLENBQ3ZELE9BQU8sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUM5RSxPQUFPLENBQ1IsQ0FBQTtZQUNELE1BQU0sV0FBVyxHQUFHLElBQUkseUJBQVcsQ0FBQztnQkFDbEMsT0FBTyxFQUFFLFdBQVc7Z0JBQ3BCLElBQUksRUFBRSxpQkFBaUI7YUFDeEIsQ0FBQyxDQUFBO1lBQ0YsT0FBTyxXQUFXLENBQUE7U0FDbkI7SUFDSCxDQUFDO0NBQ0Y7QUFoQ0Qsd0NBZ0NDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBEYXRhdGlwIH0gZnJvbSBcIi4uLy4uL3R5cGVzLXBhY2thZ2VzL21haW4uZFwiXG5pbXBvcnQgeyBQcm92aWRlclJlZ2lzdHJ5IH0gZnJvbSBcImF0b20taWRlLWJhc2UvY29tbW9ucy1hdG9tL1Byb3ZpZGVyUmVnaXN0cnlcIlxuaW1wb3J0IHsgQ29udGVudFZpZXcgfSBmcm9tIFwiLi9Db250ZW50Vmlld1wiXG5cbmV4cG9ydCBjbGFzcyBDb250ZW50TWFuYWdlciB7XG4gIC8qKlxuICAgKiBhIHJlZmVyZW5jZSB0byB0aGUgbWFya2Rvd24gcmVuZGVyaW5nIHNlcnZpY2VcbiAgICovXG4gIHJlbmRlcmVyPzogTWFya2Rvd25TZXJ2aWNlID0gbnVsbFxuXG4gIC8qKlxuICAgKiBnZXQgY29udGVudCBvZiB0aGUgZ2l2ZW4gZGF0YXRpcCBhcyBIVE1MXG4gICAqIEBwYXJhbSAge0RhdGF0aXB9IGRhdGF0aXAgb2JqZWN0IHRvIGJlIHJlbmRlcmVkXG4gICAqIEBwYXJhbSAge1RleHRFZGl0b3J9IGVkaXRvciB0aGUgQXRvbSBUZXh0IGVkaXRvciBpbnN0YW5jZSB0byBob3N0IHRoZSBkYXRhIHRpcCB2aWV3XG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBvYmplY3QgdG8gdHJhY2sgdGhlIGFzeW5jaHJvbm91cyBvcGVyYXRpb25cbiAgICovXG4gIGFzeW5jIGdldENvbnRlbnQoZGF0YXRpcDogRGF0YXRpcCwgZWRpdG9yOiBUZXh0RWRpdG9yKSB7XG4gICAgaWYgKGRhdGF0aXAuY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gbmV3IENvbnRlbnRWaWV3KHsgY29tcG9uZW50OiBkYXRhdGlwLmNvbXBvbmVudCB9KVxuICAgIH0gZWxzZSBpZiAoZGF0YXRpcC5tYXJrZWRTdHJpbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGdyYW1tYXIgPSBlZGl0b3IuZ2V0R3JhbW1hcigpLnNjb3BlTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICBjb25zdCBzbmlwcGV0SHRtbCA9IGF3YWl0IHRoaXMuZ2V0U25pcHBldEh0bWwoXG4gICAgICAgIGRhdGF0aXAubWFya2VkU3RyaW5ncy5maWx0ZXIoKHQpID0+IHQudHlwZSA9PT0gXCJzbmlwcGV0XCIpLm1hcCgodCkgPT4gdC52YWx1ZSksXG4gICAgICAgIGdyYW1tYXJcbiAgICAgIClcbiAgICAgIGNvbnN0IGRvY3VtZW50YXRpb25IdG1sID0gYXdhaXQgdGhpcy5nZXREb2N1bWVudGF0aW9uSHRtbChcbiAgICAgICAgZGF0YXRpcC5tYXJrZWRTdHJpbmdzLmZpbHRlcigodCkgPT4gdC50eXBlID09PSBcIm1hcmtkb3duXCIpLm1hcCgodCkgPT4gdC52YWx1ZSksXG4gICAgICAgIGdyYW1tYXJcbiAgICAgIClcbiAgICAgIGNvbnN0IGRhdGFUaXBWaWV3ID0gbmV3IENvbnRlbnRWaWV3KHtcbiAgICAgICAgc25pcHBldDogc25pcHBldEh0bWwsXG4gICAgICAgIGh0bWw6IGRvY3VtZW50YXRpb25IdG1sLFxuICAgICAgfSlcbiAgICAgIHJldHVybiBkYXRhVGlwVmlld1xuICAgIH1cbiAgfVxufVxuIl19
